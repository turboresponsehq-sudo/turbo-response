{
  "query": "-- Brain Upload System - Phase 1 Database Schema\n-- Multi-domain knowledge repository for Turbo Response\n\n-- Create brain_documents table\nCREATE TABLE IF NOT EXISTS brain_documents (\n  id SERIAL PRIMARY KEY,\n  \n  -- Document Identity\n  title VARCHAR(500) NOT NULL,\n  filename VARCHAR(500) NOT NULL,\n  file_url TEXT NOT NULL,\n  file_type VARCHAR(50) NOT NULL,\n  file_size INTEGER,\n  \n  -- Multi-Domain Classification\n  category VARCHAR(100) NOT NULL,\n  subcategory VARCHAR(100),\n  tags TEXT[],\n  domain VARCHAR(100) NOT NULL,\n  \n  -- Content & Processing\n  content_text TEXT,\n  summary TEXT,\n  chunk_count INTEGER DEFAULT 0,\n  processing_status VARCHAR(50) DEFAULT 'pending',\n  \n  -- Metadata\n  uploaded_by VARCHAR(100),\n  client_id INTEGER,\n  is_public BOOLEAN DEFAULT false,\n  visibility VARCHAR(50) DEFAULT 'private',\n  \n  -- Analytics\n  access_count INTEGER DEFAULT 0,\n  last_accessed_at TIMESTAMP,\n  \n  -- Timestamps\n  created_at TIMESTAMP DEFAULT NOW(),\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Create indexes for fast retrieval\nCREATE INDEX IF NOT EXISTS idx_brain_category ON brain_documents(category);\nCREATE INDEX IF NOT EXISTS idx_brain_domain ON brain_documents(domain);\nCREATE INDEX IF NOT EXISTS idx_brain_tags ON brain_documents USING GIN(tags);\nCREATE INDEX IF NOT EXISTS idx_brain_status ON brain_documents(processing_status);\nCREATE INDEX IF NOT EXISTS idx_brain_created ON brain_documents(created_at DESC);\nCREATE INDEX IF NOT EXISTS idx_brain_visibility ON brain_documents(visibility);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 7DorTNURquHZQZu.root --database WQoqrgvAJmZqDJX9hYJoWw --execute -- Brain Upload System - Phase 1 Database Schema\n-- Multi-domain knowledge repository for Turbo Response\n\n-- Create brain_documents table\nCREATE TABLE IF NOT EXISTS brain_documents (\n  id SERIAL PRIMARY KEY,\n  \n  -- Document Identity\n  title VARCHAR(500) NOT NULL,\n  filename VARCHAR(500) NOT NULL,\n  file_url TEXT NOT NULL,\n  file_type VARCHAR(50) NOT NULL,\n  file_size INTEGER,\n  \n  -- Multi-Domain Classification\n  category VARCHAR(100) NOT NULL,\n  subcategory VARCHAR(100),\n  tags TEXT[],\n  domain VARCHAR(100) NOT NULL,\n  \n  -- Content & Processing\n  content_text TEXT,\n  summary TEXT,\n  chunk_count INTEGER DEFAULT 0,\n  processing_status VARCHAR(50) DEFAULT 'pending',\n  \n  -- Metadata\n  uploaded_by VARCHAR(100),\n  client_id INTEGER,\n  is_public BOOLEAN DEFAULT false,\n  visibility VARCHAR(50) DEFAULT 'private',\n  \n  -- Analytics\n  access_count INTEGER DEFAULT 0,\n  last_accessed_at TIMESTAMP,\n  \n  -- Timestamps\n  created_at TIMESTAMP DEFAULT NOW(),\n  updated_at TIMESTAMP DEFAULT NOW()\n);\n\n-- Create indexes for fast retrieval\nCREATE INDEX IF NOT EXISTS idx_brain_category ON brain_documents(category);\nCREATE INDEX IF NOT EXISTS idx_brain_domain ON brain_documents(domain);\nCREATE INDEX IF NOT EXISTS idx_brain_tags ON brain_documents USING GIN(tags);\nCREATE INDEX IF NOT EXISTS idx_brain_status ON brain_documents(processing_status);\nCREATE INDEX IF NOT EXISTS idx_brain_created ON brain_documents(created_at DESC);\nCREATE INDEX IF NOT EXISTS idx_brain_visibility ON brain_documents(visibility);",
  "returncode": 1,
  "logs": [
    "ERROR 1064 (42000) at line 5: You have an error in your SQL syntax; check the manual that corresponds to your TiDB version for the right syntax to use line 14 column 13 near \"[],",
    "  domain VARCHAR(100) NOT NULL,",
    "  ",
    "  ",
    "  content_text TEXT,",
    "  summary TEXT,",
    "  chunk_count INTEGER DEFAULT 0,",
    "  processing_status VARCHAR(50) DEFAULT 'pending',",
    "  ",
    "  ",
    "  uploaded_by VARCHAR(100),",
    "  client_id INTEGER,",
    "  is_public BOOLEAN DEFAULT false,",
    "  visibility VARCHAR(50) DEFAULT 'private',",
    "  ",
    "  ",
    "  access_count INTEGER DEFAULT 0,",
    "  last_accessed_at TIMESTAMP,"
  ]
}